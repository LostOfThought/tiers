---
description:
globs:
alwaysApply: true
---
# Rule: Conventional Commits for Changelog Generation

**CRITICAL:** All commits should follow the [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) specification. This is essential for the automated generation of the Factorio-compliant `changelog.txt` by the build script.

## Format

```
<type>[optional scope][!]: <description>

[optional body]

[optional footer(s)]
```

## Types and Changelog Mapping

The `<type>` keyword determines how the commit appears in the `changelog.txt` generated by the bundle script ([tools/bundle-mod.ts](mdc:tools/bundle-mod.ts)). The script uses the following mapping to Factorio categories:

*   `feat`: Maps to **Features**
*   `fix`: Maps to **Bugfixes**
*   `perf`: Maps to **Optimizations**
*   `docs`: Maps to **Info**
*   `style`, `refactor`, `test`, `chore`, `build`, `ci`, `revert`: Map to **Changes** (can be customized in the script if needed)

Commits not following this format will also likely fall under the generic "Changes" category or might not be parsed correctly.

## Importance

Adhering to this convention ensures:
1.  Accurate and categorized entries in the `changelog.txt`.
2.  Proper functioning of the automated changelog generation in the build process.
3.  Clear and consistent commit history.

**Example Commits:**

*   `feat: Add setting to adjust inserter speed`
*   `fix(ui): Correct tooltip text for assembler`
*   `perf: Optimize pollution calculation`
*   `docs: Update usage instructions in README.md`
*   `chore: Bump dependency versions`
